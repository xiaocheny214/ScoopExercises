import{r as f,m as Qe,n as Ge,p as Tt,f as _,q as x,o as p,w as l,c as y,d as t,b as s,h as c,s as We,t as d,v as $t,x as Il,y as Tl,z as Ee,B as $l,C as Ie,u as Al,a as X,g as Sl,k as D,E as u,D as Bl,i as Ul,j as n,F as ql,G as Dl,H as Fe,I as Ll,J as ye,K as V,L as El,M as Fl,N as Ql,O as _t,P as bt,Q as P,R as j,S as wt,T as Ol,U as Pl,V as kt,W as Ct,X as Vt,Y as Nl,Z as xt,_ as Hl,$ as zl,a0 as le,a1 as ht}from"./index-D6KW0YUS.js";import{C as Ml}from"./CatIcon-hnoCj6S9.js";import{u as At,h as Rl}from"./history-BXQJllDi.js";import{f as It,a as Ke,b as Yl}from"./format-XwD1px1m.js";import{_ as St}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as jl}from"./question-zwP50Slu.js";import{u as Jl}from"./questionBank-DA8B-6AF.js";const Kl={class:"card-header"},Gl={key:0,class:"loading-content"},Wl={key:1,class:"statistics-content"},Xl={class:"main-metrics"},Zl={class:"metric-item"},ea={class:"metric-icon total"},ta={class:"metric-info"},la={class:"metric-value"},aa={class:"metric-item"},oa={class:"metric-icon average"},sa={class:"metric-info"},na={class:"metric-value"},ia={class:"metric-item"},ra={class:"metric-icon pass"},da={class:"metric-info"},ua={class:"metric-value"},pa={class:"metric-item"},ca={class:"metric-icon highest"},ma={class:"metric-info"},fa={class:"metric-value"},va={class:"detailed-stats"},ga={class:"stats-row"},ya={class:"stat-item"},_a={class:"stat-value"},ba={class:"stat-item"},wa={class:"stat-value"},ka={class:"stat-item"},Ca={class:"stat-value"},Va={class:"score-distribution"},xa={class:"distribution-bars"},ha={class:"bar-item"},Ia={class:"bar-container"},Ta={class:"bar-value"},$a={class:"bar-item"},Aa={class:"bar-container"},Sa={class:"bar-value"},Ba={class:"bar-item"},Ua={class:"bar-container"},qa={class:"bar-value"},Da={class:"bar-item"},La={class:"bar-container"},Ea={class:"bar-value"},Fa={__name:"HistoryStatistics",props:{filterParams:{type:Object,default:()=>({})}},setup(Xe){const J=Xe,K=At(),ae=f(!1),C=f({totalCount:0,averageScore:0,highestScore:0,lowestScore:0,passRate:0,totalAnswered:0,totalQuestions:0}),F=Qe(()=>{const B=K.historyList;if(B.length===0)return{excellent:0,good:0,pass:0,fail:0};const g=B.map(S=>{const pe=S.totalScore||0,Z=S.maxScore||0;return Z>0?pe/Z*100:0}),U=g.filter(S=>S>=90).length,z=g.filter(S=>S>=80&&S<90).length,oe=g.filter(S=>S>=60&&S<80).length,se=g.filter(S=>S<60).length,Q=B.length;return{excellent:Q>0?Math.round(U/Q*100):0,good:Q>0?Math.round(z/Q*100):0,pass:Q>0?Math.round(oe/Q*100):0,fail:Q>0?Math.round(se/Q*100):0}});Ge(()=>J.filterParams,()=>{L()},{deep:!0}),Ge(()=>K.historyList,()=>{L()},{deep:!0}),Tt(()=>{L()});const L=async()=>{ae.value=!0;try{const B=await Rl.getHistoryStatistics(J.filterParams);B.success&&(C.value=B.data)}catch(B){console.error("加载统计数据失败:",B)}finally{ae.value=!1}},N=()=>{L()};return(B,g)=>{const U=_("el-icon"),z=_("el-button"),oe=_("el-skeleton"),se=_("el-card");return p(),x(se,{shadow:"never",class:"statistics-card"},{header:l(()=>[s("div",Kl,[t(U,{class:"header-icon"},{default:l(()=>[t(c($l))]),_:1}),g[0]||(g[0]=s("span",{class:"header-title"},"统计概览",-1)),t(z,{type:"text",size:"small",onClick:N,loading:ae.value},{default:l(()=>[t(U,null,{default:l(()=>[t(c(Ie))]),_:1})]),_:1},8,["loading"])])]),default:l(()=>[ae.value?(p(),y("div",Gl,[t(oe,{rows:2,animated:""})])):(p(),y("div",Wl,[s("div",Xl,[s("div",Zl,[s("div",ea,[t(U,null,{default:l(()=>[t(c(We))]),_:1})]),s("div",ta,[s("div",la,d(C.value.totalCount),1),g[1]||(g[1]=s("div",{class:"metric-label"},"总记录数",-1))])]),s("div",aa,[s("div",oa,[t(U,null,{default:l(()=>[t(c($t))]),_:1})]),s("div",sa,[s("div",na,d(C.value.averageScore)+"%",1),g[2]||(g[2]=s("div",{class:"metric-label"},"平均得分率",-1))])]),s("div",ia,[s("div",ra,[t(U,null,{default:l(()=>[t(c(Il))]),_:1})]),s("div",da,[s("div",ua,d(C.value.passRate)+"%",1),g[3]||(g[3]=s("div",{class:"metric-label"},"及格率",-1))])]),s("div",pa,[s("div",ca,[t(U,null,{default:l(()=>[t(c(Tl))]),_:1})]),s("div",ma,[s("div",fa,d(C.value.highestScore)+"%",1),g[4]||(g[4]=s("div",{class:"metric-label"},"最高得分率",-1))])])]),s("div",va,[s("div",ga,[s("div",ya,[g[5]||(g[5]=s("span",{class:"stat-label"},"最低得分率:",-1)),s("span",_a,d(C.value.lowestScore)+"%",1)]),s("div",ba,[g[6]||(g[6]=s("span",{class:"stat-label"},"总答题数:",-1)),s("span",wa,d(c(It)(C.value.totalAnswered)),1)]),s("div",ka,[g[7]||(g[7]=s("span",{class:"stat-label"},"总题目数:",-1)),s("span",Ca,d(c(It)(C.value.totalQuestions)),1)])]),s("div",Va,[g[12]||(g[12]=s("div",{class:"distribution-title"},"分数分布",-1)),s("div",xa,[s("div",ha,[g[8]||(g[8]=s("div",{class:"bar-label"},"优秀 (≥90%)",-1)),s("div",Ia,[s("div",{class:"bar excellent",style:Ee({width:F.value.excellent+"%"})},null,4)]),s("div",Ta,d(F.value.excellent)+"%",1)]),s("div",$a,[g[9]||(g[9]=s("div",{class:"bar-label"},"良好 (80-89%)",-1)),s("div",Aa,[s("div",{class:"bar good",style:Ee({width:F.value.good+"%"})},null,4)]),s("div",Sa,d(F.value.good)+"%",1)]),s("div",Ba,[g[10]||(g[10]=s("div",{class:"bar-label"},"及格 (60-79%)",-1)),s("div",Ua,[s("div",{class:"bar pass",style:Ee({width:F.value.pass+"%"})},null,4)]),s("div",qa,d(F.value.pass)+"%",1)]),s("div",Da,[g[11]||(g[11]=s("div",{class:"bar-label"},"不及格 (<60%)",-1)),s("div",La,[s("div",{class:"bar fail",style:Ee({width:F.value.fail+"%"})},null,4)]),s("div",Ea,d(F.value.fail)+"%",1)])])])])]))]),_:1})}}},Qa=St(Fa,[["__scopeId","data-v-ab18b86b"]]),Oa={class:"home-container"},Pa={class:"header"},Na={class:"header-left"},Ha={class:"header-right"},za={class:"welcome-text"},Ma={class:"main-content"},Ra={class:"nav-cards"},Ya={class:"content-area"},ja={class:"tab-header"},Ja={class:"tab-actions"},Ka={class:"paper-list"},Ga={key:1},Wa={class:"view-toggle",style:{"margin-bottom":"16px"}},Xa={class:"table-actions"},Za={key:1,class:"paper-grid"},eo=["onClick"],to={class:"paper-header"},lo={class:"paper-desc"},ao={class:"paper-info"},oo={class:"paper-footer"},so={class:"tab-header"},no={class:"tab-actions"},io={class:"filter-section"},ro={class:"filter-left"},uo={class:"filter-right"},po={class:"question-content"},co={key:2},mo={class:"question-actions"},fo={class:"tab-header"},vo={class:"tab-actions"},go={class:"search-section"},yo={class:"bank-content"},_o={key:0,class:"pagination-wrapper"},bo={class:"tab-header"},wo={class:"tab-actions"},ko={class:"score-content"},Co={class:"statistics-section"},Vo={class:"history-list-section"},xo={class:"card-header"},ho={class:"bank-paper-info"},Io={class:"bank-name"},To={class:"paper-name"},$o={class:"score-info"},Ao={class:"score-percentage"},So={class:"answer-info"},Bo={class:"answer-count"},Uo={class:"time-info"},qo={key:0,class:"empty-tip"},Do={key:1,class:"more-tip"},Lo={style:{"margin-top":"8px"}},Eo={class:"form-tip"},Fo={class:"form-tip"},Qo={key:0,class:"paper-stats"},Oo={key:0,class:"bank-detail"},Po={class:"batch-create-header"},No={class:"batch-questions-list"},Ho={key:1},zo={class:"question-header"},Mo={class:"question-number"},Ro={class:"options-grid"},Yo={key:0,class:"question-detail"},jo={class:"question-details-section",style:{"margin-top":"20px"}},Jo={key:0,class:"multiple-choice-details"},Ko={class:"options-grid"},Go={key:0,class:"option-item"},Wo={key:1,class:"option-item"},Xo={key:2,class:"option-item"},Zo={key:3,class:"option-item"},es={key:4,class:"option-item"},ts={key:5,class:"option-item"},ls={class:"correct-answer"},as={key:1,class:"analysis-details"},os={class:"correct-answer"},ss={key:2,class:"essay-details"},ns={class:"reference-answer"},is={key:3,class:"explanation"},rs={__name:"Home",setup(Xe){const J=Sl(),K=Al(),ae=jl(),C=Jl(),F=At(),L=f("papers"),N=f([]),B=f(!1),g=f(!1),U=f(!1),z=f(!1),oe=f(!1),se=f(!1),Q=f(!1),S=f(!1),pe=f("json"),Z=f(""),Te=f(null),Ze=f(null),et=f(null),tt=f(null),_e=f(!1),be=f(!1),Oe=f(!1),$e=f(""),ne=f([]),Ae=f(1),Se=f(10),ee=f(null),lt=f(null),ie=f([]),ce=f("table"),Pe=f(!1),Ne=f([]),Bt=Qe(()=>({orderBy:"createTime",sortOrder:"DESC"})),me=f(!1),we=f(!1),ke=f(!1),He=f(!1),ze=f(!1),G=f([]),Me=f([]),te=f([]),Ce=f(null),Be=f(null),Ue=f(""),b=f(null),O=f(""),M=f(""),qe=f(null),R=f([]),re=X({name:"",description:"",creatorId:null}),de=X({id:null,name:"",description:"",creatorId:null}),r=X({id:null,paperId:null,questionTypeId:null,sortOrder:1,details:{questionText:"",score:5,optionA:"",optionB:"",optionC:"",optionD:"",optionE:"",optionF:"",correctAnswer:"",referenceAnswer:"",explanation:""}}),H=X({paperId:null,questionTypeId:null}),at=X({name:[{required:!0,message:"请输入题库名称",trigger:"blur"},{min:2,max:100,message:"题库名称长度在2-100个字符",trigger:"blur"}]}),Ut=X({paperId:[{required:!0,message:"请选择所属试卷",trigger:"change"}],questionTypeId:[{required:!0,message:"请选择题目类型",trigger:"change"}],"details.questionText":[{required:!0,message:"请输入题目内容",trigger:"blur"},{min:5,max:1e3,message:"题目内容长度在5-1000个字符",trigger:"blur"}],"details.score":[{required:!0,message:"请设置分数",trigger:"blur"},{type:"number",min:1,message:"分数必须大于0",trigger:"blur"}],sortOrder:[{required:!0,message:"请设置排序",trigger:"blur"}]}),qt=()=>{const o={...Ut};return O.value==="MULTIPLE_CHOICE"?(o["details.optionA"]=[{required:!0,message:"请输入选项A",trigger:"blur"}],o["details.optionB"]=[{required:!0,message:"请输入选项B",trigger:"blur"}],o["details.optionC"]=[{required:!0,message:"请输入选项C",trigger:"blur"}],o["details.optionD"]=[{required:!0,message:"请输入选项D",trigger:"blur"}],o["details.correctAnswer"]=[{required:!0,message:"请选择正确答案",trigger:"change"}]):O.value==="ANALYSIS"?o["details.correctAnswer"]=[{required:!0,message:"请输入正确答案",trigger:"blur"}]:O.value==="ESSAY"&&(o["details.referenceAnswer"]=[{required:!0,message:"请输入参考答案",trigger:"blur"}]),o},Dt=Qe(()=>{if(!$e.value)return C.questionBanks;const o=$e.value.toLowerCase();return C.questionBanks.filter(e=>e.name.toLowerCase().includes(o)||e.description&&e.description.toLowerCase().includes(o))}),ot=Qe(()=>{let o=Me.value;if(Be.value&&(o=o.filter(e=>e.questionTypeId===Be.value)),Ue.value){const e=Ue.value.toLowerCase();o=o.filter(i=>i.questionText?.toLowerCase().includes(e))}return o}),q=X({title:"",description:"",bankId:null,timeLimit:60}),$=X({id:null,title:"",description:"",bankId:null,timeLimit:60,totalScore:null,questionCount:null}),st=X({title:[{required:!0,message:"请输入试卷标题",trigger:"blur"},{min:2,max:200,message:"试卷标题长度在2-200个字符",trigger:"blur"}],bankId:[{required:!0,message:"请选择所属题库",trigger:"change"}],timeLimit:[{required:!0,message:"请设置时间限制",trigger:"blur"}]}),Lt=async o=>{if(o==="logout")try{await le.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),K.clearUserInfo(),J.push("/login"),u.success("已退出登录")}catch{}else o==="profile"&&J.push("/profile")},nt=async(o,e)=>{if(o==="edit")ml(e);else if(o==="delete")try{await le.confirm(`确定要删除试卷"${e.title}"吗？`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await ul(e.id)}catch{}},Re=o=>{console.log("开始考试，试卷数据:",o),ae.startAnswering(o),console.log("跳转到答题页面"),J.push("/exam")},Et=async()=>{if(await tt.value.validate()){oe.value=!0;try{const e=await C.createQuestionBank({...re,creatorId:K.userInfo.id});e.success?(u.success(e.message),z.value=!1,Ft()):u.error(e.message)}catch{u.error("创建题库失败")}finally{oe.value=!1}}},Ft=()=>{Object.assign(re,{name:"",description:"",creatorId:null})},Ve=async()=>{try{const o=await C.loadQuestionBanks();o.success||console.error("加载题库列表失败:",o.message)}catch(o){console.error("加载题库列表失败:",o)}},Qt=()=>{},Ot=o=>{ne.value=o},Pt=o=>{Se.value=o,it()},Nt=o=>{Ae.value=o,it()},it=async()=>{try{const o=await C.loadQuestionBanksPage(Ae.value-1,Se.value);o.success||u.error(o.message)}catch{u.error("加载数据失败")}},rt=o=>{Object.assign(de,{id:o.id,name:o.name,description:o.description,creatorId:o.creatorId}),_e.value=!0,be.value=!1},dt=async o=>{try{const e=await C.getQuestionBank(o.id);e.success?(ee.value=e.data,be.value=!0):u.error(e.message)}catch{u.error("获取题库详情失败")}},Ht=async o=>{try{await le.confirm(`确定要删除题库"${o.name}"吗？
注意：如果该题库下有试卷，需要先删除试卷才能删除题库。`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=await C.deleteQuestionBank(o.id);e.success?(u.success(e.message),Ve()):u.error(e.message)}catch(e){e!=="cancel"&&u.error("删除失败")}},zt=async()=>{if(ne.value.length===0){u.warning("请选择要删除的题库");return}try{await le.confirm(`确定要删除选中的 ${ne.value.length} 个题库吗？
注意：如果题库下有试卷，需要先删除试卷才能删除题库。
此操作不可恢复。`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const o=ne.value.map(i=>i.id),e=await C.batchDeleteQuestionBanks(o);e.success?(u.success(e.message),ne.value=[],Ve()):u.error(e.message)}catch(o){o!=="cancel"&&u.error("批量删除失败")}},Mt=async()=>{if(await lt.value.validate()){Oe.value=!0;try{const e=await C.updateQuestionBank(de);e.success?(u.success(e.message),_e.value=!1,Ve()):u.error(e.message)}catch{u.error("更新失败")}finally{Oe.value=!1}}},Rt=o=>{ie.value=o},Yt=async()=>{if(ie.value.length===0){u.warning("请选择要删除的试卷");return}try{await le.confirm(`确定要删除选中的 ${ie.value.length} 份试卷吗？
此操作不可恢复。`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const o=ie.value.map(i=>i.id),e=await D.post("/pager/v1/batch",o);e.success?(u.success("批量删除成功"),ie.value=[],ue()):u.error(e.message||"批量删除失败")}catch(o){o!=="cancel"&&u.error("批量删除失败")}},jt=async()=>{try{const o=await D.get("/question/v1/types");(o.success||o.code===200)&&(te.value=o.data||[])}catch(o){console.error("加载题目类型失败:",o),te.value=[{id:1,typeCode:"MULTIPLE_CHOICE",typeName:"选择题"},{id:2,typeCode:"ANALYSIS",typeName:"辨析题"},{id:3,typeCode:"ESSAY",typeName:"解答题"}]}},fe=async()=>{if(!Ce.value){Me.value=[];return}try{const o=await D.get(`/question/v1/list/paper/${Ce.value}`);(o.success||o.code===200)&&(Me.value=o.data||[])}catch(o){console.error("加载题目列表失败:",o),u.error("加载题目列表失败")}},Jt=()=>{fe(),G.value=[]},ut=()=>{},Kt=()=>{const o=te.value.find(e=>e.id===r.questionTypeId);o&&(O.value=o.typeCode,Object.assign(r.details,{questionText:r.details.questionText||"",score:r.details.score||5,optionA:"",optionB:"",optionC:"",optionD:"",optionE:"",optionF:"",correctAnswer:"",referenceAnswer:"",explanation:""}),ht(()=>{qe.value?.clearValidate()}))},Gt=o=>{G.value=o},Wt=o=>{switch(o){case"MULTIPLE_CHOICE":return"primary";case"ANALYSIS":return"success";case"ESSAY":return"warning";default:return""}},Xt=o=>{const e=N.value.find(i=>i.id===o);return e?e.title:"未知试卷"},Zt=async()=>{if(await qe.value.validate()){He.value=!0;try{const e={questionTypeId:r.questionTypeId,paperId:r.paperId,questionText:r.details.questionText,score:r.details.score,sortOrder:r.sortOrder,extraFields:{}};O.value==="MULTIPLE_CHOICE"?e.extraFields={optionA:r.details.optionA||"",optionB:r.details.optionB||"",optionC:r.details.optionC||"",optionD:r.details.optionD||"",optionE:r.details.optionE||"",optionF:r.details.optionF||"",correctAnswer:r.details.correctAnswer||"",explanation:r.details.explanation||""}:O.value==="ANALYSIS"?e.extraFields={correctAnswer:r.details.correctAnswer||"",explanation:r.details.explanation||""}:O.value==="ESSAY"&&(e.extraFields={referenceAnswer:r.details.referenceAnswer||"",explanation:r.details.explanation||""}),r.id&&(e.id=r.id),console.log("发送的题目数据:",e);const i=r.id?"/question/v1/update":"/question/v1/create",m=r.id?"put":"post",h=await D[m](i,e);console.log("后端响应:",h),h.success||h.code===200?(u.success(r.id?"题目更新成功":"题目创建成功"),me.value=!1,il(),fe()):u.error(h.message||"操作失败")}catch(e){console.error("创建题目错误:",e),u.error(e.message||e.msg||(r.id?"更新题目失败":"创建题目失败"))}finally{He.value=!1}}},el=async o=>{try{const e=await D.get(`/question/v1/get/${o.id}?questionTypeId=${o.questionTypeId}`);e.success&&(b.value=e.data,ke.value=!0)}catch{u.error("获取题目详情失败")}},pt=o=>{Object.assign(r,{id:o.id,paperId:o.paperId,questionTypeId:o.questionTypeId,sortOrder:o.sortOrder,details:{...o.details}});const e=te.value.find(i=>i.id===o.questionTypeId);e&&(O.value=e.typeCode),me.value=!0,ke.value=!1},tl=async o=>{try{await le.confirm(`确定要删除题目"${o.details?.questionText?.substring(0,20)||""}..."吗？`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),(await D.delete(`/question/v1/delete/${o.id}?questionTypeId=${o.questionTypeId}`)).success&&(u.success("题目删除成功"),fe())}catch(e){e!=="cancel"&&u.error("删除题目失败")}},ll=async()=>{if(G.value.length===0){u.warning("请选择要删除的题目");return}try{await le.confirm(`确定要删除选中的 ${G.value.length} 道题目吗？
此操作不可恢复。`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),console.log("选中的题目:",G.value);const o={};G.value.forEach(e=>{o[e.questionTypeId]||(o[e.questionTypeId]=[]),o[e.questionTypeId].push(e.id)}),console.log("分组后的题目:",o);for(const[e,i]of Object.entries(o)){console.log(`正在删除题目类型 ${e} 的题目:`,i);const m=`/question/v1/delete/batch?questionTypeId=${e}`;console.log("请求URL:",m),console.log("请求体:",i);try{const h=await D.post(m,i);if(console.log("删除响应:",h),!h.success){console.error("删除失败响应:",h),u.error(`删除题目类型${e}的题目失败: ${h.message||"未知错误"}`);return}}catch(h){console.error(`删除题目类型${e}时发生错误:`,h),u.error(`删除题目类型${e}的题目时发生错误: ${h.message||h.msg||"网络错误"}`);return}}u.success("批量删除成功"),G.value=[],fe()}catch(o){o!=="cancel"&&(console.error("批量删除整体错误:",o),u.error(`批量删除失败: ${o.message||o.msg||"未知错误"}`))}},al=()=>{const o=te.value.find(e=>e.id===H.questionTypeId);o&&(M.value=o.typeCode)},ol=()=>{if(!H.paperId||!H.questionTypeId){u.warning("请先选择试卷和题目类型");return}const o={paperId:H.paperId,questionTypeId:H.questionTypeId,sortOrder:R.value.length+1,details:{questionText:"",score:5,optionA:"",optionB:"",optionC:"",optionD:"",optionE:"",optionF:"",correctAnswer:"",referenceAnswer:"",explanation:""}};R.value.push(o)},sl=o=>{R.value.splice(o,1)},nl=async()=>{if(R.value.length===0){u.warning("请先添加题目");return}for(let o=0;o<R.value.length;o++){const e=R.value[o];if(!e.details.questionText){u.warning(`第${o+1}个题目的内容不能为空`);return}if(!e.details.score||e.details.score<=0){u.warning(`第${o+1}个题目的分数必须大于0`);return}if(M.value==="MULTIPLE_CHOICE"){if(!e.details.optionA||!e.details.optionB||!e.details.optionC||!e.details.optionD||!e.details.correctAnswer){u.warning(`第${o+1}个选择题的选项和正确答案不能为空`);return}}else if(M.value==="ANALYSIS"){if(!e.details.correctAnswer){u.warning(`第${o+1}个辨析题的正确答案不能为空`);return}}else if(M.value==="ESSAY"&&!e.details.referenceAnswer){u.warning(`第${o+1}个解答题的参考答案不能为空`);return}}ze.value=!0;try{const o=R.value.map(i=>({questionTypeId:i.questionTypeId,paperId:i.paperId,questionText:i.details.questionText,score:i.details.score,sortOrder:i.sortOrder,extraFields:M.value==="MULTIPLE_CHOICE"?{optionA:i.details.optionA||"",optionB:i.details.optionB||"",optionC:i.details.optionC||"",optionD:i.details.optionD||"",optionE:i.details.optionE||"",optionF:i.details.optionF||"",correctAnswer:i.details.correctAnswer||"",explanation:i.details.explanation||""}:M.value==="ANALYSIS"?{correctAnswer:i.details.correctAnswer||"",explanation:i.details.explanation||""}:{referenceAnswer:i.details.referenceAnswer||"",explanation:i.details.explanation||""}})),e=await D.post("/question/v1/create/batch",o);e.success||e.code===200?(u.success("批量创建成功"),we.value=!1,R.value=[],H.paperId=null,H.questionTypeId=null,M.value="",fe()):u.error(e.message||"批量创建失败")}catch(o){u.error("批量创建失败"),console.error("批量创建错误:",o)}finally{ze.value=!1}},il=()=>{Object.assign(r,{id:null,paperId:null,questionTypeId:null,sortOrder:1,details:{questionText:"",score:5,optionA:"",optionB:"",optionC:"",optionD:"",optionE:"",optionF:"",correctAnswer:"",referenceAnswer:"",explanation:""}}),O.value="",ht(()=>{qe.value?.clearValidate()})},rl=async()=>{if(await Ze.value.validate()){se.value=!0;try{const e={title:q.title,description:q.description,bankId:q.bankId,timeLimit:q.timeLimit};(await D.post("/pager/v1/init",e)).success&&(u.success("试卷创建成功"),B.value=!1,cl(),ue())}catch(e){u.error(e.msg||"创建试卷失败")}finally{se.value=!1}}},dl=async()=>{S.value=!0;try{let o;if(pe.value==="json"){if(!Z.value.trim()){u.warning("请输入JSON数据");return}o=await D.post("/paper/v1/import/json",JSON.parse(Z.value))}else if(pe.value==="excel"){if(!Te.value){u.warning("请选择Excel文件");return}const e=new FormData;e.append("file",Te.value),o=await D.post("/paper/v1/import/excel",e,{headers:{"Content-Type":"multipart/form-data"}})}o.success&&(u.success("试卷导入成功"),U.value=!1,Z.value="",Te.value=null,ue())}catch(o){console.error("导入试卷失败:",o),u.error(o.message||o.msg||"导入试卷失败")}finally{S.value=!1}},ul=async o=>{try{(await D.delete(`/pager/v1/${o}`)).success&&(u.success("试卷删除成功"),ue())}catch(e){u.error(e.msg||"删除试卷失败")}},pl=o=>{Te.value=o.raw,console.log("选择的文件:",o.name)},cl=()=>{Object.assign(q,{title:"",description:"",bankId:null,timeLimit:60})},ml=o=>{Object.assign($,{id:o.id,title:o.title,description:o.description,bankId:o.bankId,timeLimit:o.timeLimit||60,totalScore:o.totalScore,questionCount:o.questionCount}),g.value=!0},fl=async()=>{if(await et.value.validate()){Q.value=!0;try{const e={id:$.id,title:$.title,description:$.description,bankId:$.bankId,timeLimit:$.timeLimit};(await D.put("/pager/v1/update",e)).success&&(u.success("试卷更新成功"),g.value=!1,ue())}catch(e){u.error(e.msg||"更新试卷失败")}finally{Q.value=!1}}},ue=async()=>{try{const o=await D.get("/pager/v1/list");o.success&&(N.value=o.data||[],ae.setPapers(N.value))}catch(o){console.error("加载试卷列表失败:",o),u.error("加载试卷列表失败")}},De=async()=>{Pe.value=!0;try{const o={page:0,size:10,orderBy:"createTime",sortOrder:"DESC"};(await F.getHistoryList(o)).success&&(Ne.value=F.historyList)}catch{u.error("加载历史记录失败")}finally{Pe.value=!1}},vl=()=>{De()},gl=o=>{J.push({name:"HistoryDetail",params:{id:o},query:{from:"home"}})},yl=async o=>{try{await le.confirm("确定要删除这条历史记录吗？删除后无法恢复。","确认删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});const e=await F.deleteHistory(o);e.success?(u.success("删除成功"),De()):u.error(e.message||"删除失败")}catch(e){e!=="cancel"&&u.error("删除失败")}},ct=()=>{J.push({name:"History"})},_l=(o,e)=>{const i=o/e*100;return i>=90?"score-excellent":i>=80?"score-good":i>=60?"score-pass":"score-fail"},bl=o=>({0:"info",1:"success",2:"warning"})[o]||"info",wl=o=>({0:"未完成",1:"已完成",2:"部分完成"})[o]||"未知";return Tt(()=>{if(K.initUserInfo(),!K.isLoggedIn){J.push("/login");return}ue(),Ve(),jt(),L.value==="scores"&&De()}),Ge(L,o=>{o==="scores"&&De()}),(o,e)=>{const i=_("el-icon"),m=_("el-button"),h=_("el-dropdown-item"),Ye=_("el-dropdown-menu"),je=_("el-dropdown"),xe=_("el-empty"),kl=_("el-button-group"),w=_("el-table-column"),mt=_("el-link"),Le=_("el-table"),ve=_("el-tab-pane"),A=_("el-option"),Y=_("el-select"),k=_("el-input"),ft=_("el-tag"),Cl=_("el-pagination"),Vl=_("el-progress"),xl=_("el-card"),vt=_("el-tabs"),v=_("el-form-item"),he=_("el-input-number"),gt=_("el-alert"),ge=_("el-form"),W=_("el-dialog"),E=_("el-descriptions-item"),Je=_("el-descriptions"),hl=_("el-upload"),yt=Bl("loading");return p(),y("div",Oa,[s("div",Pa,[s("div",Na,[t(Ml,{"cat-size":"40px",class:"header-logo"}),e[70]||(e[70]=s("span",{class:"app-name"},"ScoopExercises",-1))]),s("div",Ha,[s("span",za,"欢迎，"+d(c(K).userInfo.nickName||c(K).userInfo.account),1),t(je,{onCommand:Lt},{dropdown:l(()=>[t(Ye,null,{default:l(()=>[t(h,{command:"profile"},{default:l(()=>[...e[71]||(e[71]=[n("个人信息",-1)])]),_:1}),t(h,{command:"logout",divided:""},{default:l(()=>[...e[72]||(e[72]=[n("退出登录",-1)])]),_:1})]),_:1})]),default:l(()=>[t(m,{type:"text",class:"user-btn"},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ul))]),_:1})]),_:1})]),_:1})])]),s("div",Ma,[s("div",Ra,[s("div",{class:"nav-card",onClick:e[0]||(e[0]=a=>L.value="papers")},[t(i,{class:"nav-icon"},{default:l(()=>[t(c(We))]),_:1}),e[73]||(e[73]=s("h3",null,"试卷管理",-1)),e[74]||(e[74]=s("p",null,"创建和管理试卷，开始刷题练习",-1))]),s("div",{class:"nav-card",onClick:e[1]||(e[1]=a=>L.value="questions")},[t(i,{class:"nav-icon"},{default:l(()=>[t(c(ql))]),_:1}),e[75]||(e[75]=s("h3",null,"题目管理",-1)),e[76]||(e[76]=s("p",null,"添加、编辑和组织题目",-1))]),s("div",{class:"nav-card",onClick:e[2]||(e[2]=a=>L.value="banks")},[t(i,{class:"nav-icon"},{default:l(()=>[t(c(Dl))]),_:1}),e[77]||(e[77]=s("h3",null,"题库管理",-1)),e[78]||(e[78]=s("p",null,"创建和管理题目分类",-1))]),s("div",{class:"nav-card",onClick:e[3]||(e[3]=a=>L.value="scores")},[t(i,{class:"nav-icon"},{default:l(()=>[t(c($t))]),_:1}),e[79]||(e[79]=s("h3",null,"成绩统计",-1)),e[80]||(e[80]=s("p",null,"查看答题记录和成绩分析",-1))])]),s("div",Ya,[t(vt,{modelValue:L.value,"onUpdate:modelValue":e[17]||(e[17]=a=>L.value=a),class:"main-tabs"},{default:l(()=>[t(ve,{label:"试卷管理",name:"papers"},{default:l(()=>[s("div",ja,[e[84]||(e[84]=s("h2",null,"试卷管理",-1)),s("div",Ja,[t(m,{type:"primary",onClick:e[4]||(e[4]=a=>B.value=!0)},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Fe))]),_:1}),e[81]||(e[81]=n(" 创建试卷 ",-1))]),_:1}),t(m,{onClick:e[5]||(e[5]=a=>U.value=!0)},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ll))]),_:1}),e[82]||(e[82]=n(" 导入试卷 ",-1))]),_:1}),t(m,{type:"danger",disabled:ie.value.length===0,onClick:Yt},{default:l(()=>[t(i,null,{default:l(()=>[t(c(ye))]),_:1}),n(" 批量删除 ("+d(ie.value.length)+") ",1)]),_:1},8,["disabled"]),t(m,{onClick:ue},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ie))]),_:1}),e[83]||(e[83]=n(" 刷新 ",-1))]),_:1})])]),s("div",Ka,[N.value.length===0?(p(),x(xe,{key:0,description:"暂无试卷，点击上方按钮创建第一份试卷"})):(p(),y("div",Ga,[s("div",Wa,[t(kl,null,{default:l(()=>[t(m,{type:ce.value==="table"?"primary":"",onClick:e[6]||(e[6]=a=>ce.value="table")},{default:l(()=>[t(i,null,{default:l(()=>[t(c(El))]),_:1}),e[85]||(e[85]=n(" 表格视图 ",-1))]),_:1},8,["type"]),t(m,{type:ce.value==="card"?"primary":"",onClick:e[7]||(e[7]=a=>ce.value="card")},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Fl))]),_:1}),e[86]||(e[86]=n(" 卡片视图 ",-1))]),_:1},8,["type"])]),_:1})]),ce.value==="table"?(p(),x(Le,{key:0,data:N.value,onSelectionChange:Rt,stripe:"",style:{width:"100%","margin-bottom":"20px"}},{default:l(()=>[t(w,{type:"selection",width:"55"}),t(w,{prop:"id",label:"ID",width:"80"}),t(w,{prop:"title",label:"试卷标题","min-width":"200"},{default:l(a=>[t(mt,{type:"primary",onClick:T=>Re(a.row)},{default:l(()=>[n(d(a.row.title),1)]),_:2},1032,["onClick"])]),_:1}),t(w,{prop:"description",label:"描述","min-width":"250","show-overflow-tooltip":""}),t(w,{prop:"questionCount",label:"题目数量",width:"100"},{default:l(a=>[n(d(a.row.questionCount||0)+" 题 ",1)]),_:1}),t(w,{prop:"timeLimit",label:"时间限制",width:"100"},{default:l(a=>[n(d(a.row.timeLimit||60)+" 分钟 ",1)]),_:1}),t(w,{prop:"totalScore",label:"总分",width:"100"},{default:l(a=>[n(d(a.row.totalScore||"待定")+" 分 ",1)]),_:1}),t(w,{label:"操作",width:"220",fixed:"right"},{default:l(a=>[s("div",Xa,[t(m,{type:"primary",size:"small",onClick:T=>Re(a.row),class:"action-btn"},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ql))]),_:1}),e[87]||(e[87]=n(" 开始答题 ",-1))]),_:1},8,["onClick"]),t(je,{onCommand:T=>nt(T,a.row)},{dropdown:l(()=>[t(Ye,null,{default:l(()=>[t(h,{command:"edit"},{default:l(()=>[t(i,null,{default:l(()=>[t(c(bt))]),_:1}),e[88]||(e[88]=n(" 编辑试卷 ",-1))]),_:1}),t(h,{command:"delete",divided:""},{default:l(()=>[t(i,null,{default:l(()=>[t(c(ye))]),_:1}),e[89]||(e[89]=n(" 删除试卷 ",-1))]),_:1})]),_:1})]),default:l(()=>[t(m,{type:"text",size:"small",class:"more-btn"},{default:l(()=>[t(i,null,{default:l(()=>[t(c(_t))]),_:1})]),_:1})]),_:1},8,["onCommand"])])]),_:1})]),_:1},8,["data"])):V("",!0),ce.value==="card"?(p(),y("div",Za,[(p(!0),y(P,null,j(N.value,a=>(p(),y("div",{key:a.id,class:"paper-card",onClick:T=>Re(a)},[s("div",to,[s("h3",null,d(a.title),1),t(je,{onCommand:T=>nt(T,a)},{dropdown:l(()=>[t(Ye,null,{default:l(()=>[t(h,{command:"edit"},{default:l(()=>[...e[90]||(e[90]=[n("编辑",-1)])]),_:1}),t(h,{command:"delete",divided:""},{default:l(()=>[...e[91]||(e[91]=[n("删除",-1)])]),_:1})]),_:1})]),default:l(()=>[t(m,{type:"text",size:"small"},{default:l(()=>[t(i,null,{default:l(()=>[t(c(_t))]),_:1})]),_:1})]),_:1},8,["onCommand"])]),s("p",lo,d(a.description||"暂无描述"),1),s("div",ao,[s("span",null,[t(i,null,{default:l(()=>[t(c(We))]),_:1}),n(" "+d(a.questionCount||0)+" 题",1)]),s("span",null,[t(i,null,{default:l(()=>[t(c(wt))]),_:1}),n(" "+d(a.timeLimit||60)+" 分钟",1)]),s("span",null,[t(i,null,{default:l(()=>[t(c(Ol))]),_:1}),n(" "+d(a.totalScore||"待定")+" 分",1)])]),s("div",oo,[t(m,{type:"primary",size:"small"},{default:l(()=>[...e[92]||(e[92]=[n("开始答题",-1)])]),_:1})])],8,eo))),128))])):V("",!0)]))])]),_:1}),t(ve,{label:"题目管理",name:"questions"},{default:l(()=>[s("div",so,[e[96]||(e[96]=s("h2",null,"题目管理",-1)),s("div",no,[t(m,{type:"primary",onClick:e[8]||(e[8]=a=>me.value=!0)},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Fe))]),_:1}),e[93]||(e[93]=n(" 添加题目 ",-1))]),_:1}),t(m,{onClick:e[9]||(e[9]=a=>we.value=!0)},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Pl))]),_:1}),e[94]||(e[94]=n(" 批量添加 ",-1))]),_:1}),t(m,{type:"danger",disabled:G.value.length===0,onClick:ll},{default:l(()=>[t(i,null,{default:l(()=>[t(c(ye))]),_:1}),n(" 批量删除 ("+d(G.value.length)+") ",1)]),_:1},8,["disabled"]),t(m,{onClick:fe},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ie))]),_:1}),e[95]||(e[95]=n(" 刷新 ",-1))]),_:1})])]),s("div",io,[s("div",ro,[t(Y,{modelValue:Ce.value,"onUpdate:modelValue":e[10]||(e[10]=a=>Ce.value=a),placeholder:"选择试卷",style:{width:"200px","margin-right":"12px"},onChange:Jt,clearable:""},{default:l(()=>[(p(!0),y(P,null,j(N.value,a=>(p(),x(A,{key:a.id,label:a.title,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),t(Y,{modelValue:Be.value,"onUpdate:modelValue":e[11]||(e[11]=a=>Be.value=a),placeholder:"题目类型",style:{width:"150px","margin-right":"12px"},onChange:ut,clearable:""},{default:l(()=>[(p(!0),y(P,null,j(te.value,a=>(p(),x(A,{key:a.id,label:a.typeName,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),s("div",uo,[t(k,{modelValue:Ue.value,"onUpdate:modelValue":e[12]||(e[12]=a=>Ue.value=a),placeholder:"搜索题目内容",style:{width:"300px"},clearable:"",onInput:ut},{prefix:l(()=>[t(i,null,{default:l(()=>[t(c(kt))]),_:1})]),_:1},8,["modelValue"])])]),s("div",po,[Ce.value?ot.value.length===0?(p(),x(xe,{key:1,description:"该试卷暂无题目，点击上方按钮添加题目"})):(p(),y("div",co,[t(Le,{data:ot.value,onSelectionChange:Gt,stripe:"",style:{width:"100%"}},{default:l(()=>[t(w,{type:"selection",width:"55"}),t(w,{prop:"id",label:"ID",width:"80"}),t(w,{prop:"questionTypeName",label:"题目类型",width:"100"},{default:l(a=>[t(ft,{type:Wt(a.row.questionTypeCode)},{default:l(()=>[n(d(a.row.questionTypeName),1)]),_:2},1032,["type"])]),_:1}),t(w,{prop:"questionText",label:"题目内容","min-width":"300","show-overflow-tooltip":""}),t(w,{prop:"score",label:"分数",width:"80"},{default:l(a=>[n(d(a.row.score||0)+" 分 ",1)]),_:1}),t(w,{prop:"sortOrder",label:"排序",width:"80"}),t(w,{label:"操作",width:"160",fixed:"right"},{default:l(a=>[s("div",mo,[t(m,{type:"primary",size:"small",plain:"",onClick:T=>el(a.row),class:"action-button"},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ct))]),_:1})]),_:1},8,["onClick"]),t(m,{type:"warning",size:"small",plain:"",onClick:T=>pt(a.row),class:"action-button"},{default:l(()=>[t(i,null,{default:l(()=>[t(c(bt))]),_:1})]),_:1},8,["onClick"]),t(m,{type:"danger",size:"small",plain:"",onClick:T=>tl(a.row),class:"action-button"},{default:l(()=>[t(i,null,{default:l(()=>[t(c(ye))]),_:1})]),_:1},8,["onClick"])])]),_:1})]),_:1},8,["data"])])):(p(),x(xe,{key:0,description:"请先选择试卷查看题目"}))])]),_:1}),t(ve,{label:"题库管理",name:"banks"},{default:l(()=>[s("div",fo,[e[99]||(e[99]=s("h2",null,"题库管理",-1)),s("div",vo,[t(m,{type:"primary",onClick:e[13]||(e[13]=a=>z.value=!0)},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Fe))]),_:1}),e[97]||(e[97]=n(" 创建题库 ",-1))]),_:1}),t(m,{type:"danger",disabled:ne.value.length===0,onClick:zt},{default:l(()=>[t(i,null,{default:l(()=>[t(c(ye))]),_:1}),n(" 批量删除 ("+d(ne.value.length)+") ",1)]),_:1},8,["disabled"]),t(m,{onClick:Ve},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ie))]),_:1}),e[98]||(e[98]=n(" 刷新 ",-1))]),_:1})])]),s("div",go,[t(k,{modelValue:$e.value,"onUpdate:modelValue":e[14]||(e[14]=a=>$e.value=a),placeholder:"搜索题库名称或描述",style:{width:"300px"},clearable:"",onInput:Qt},{prefix:l(()=>[t(i,null,{default:l(()=>[t(c(kt))]),_:1})]),_:1},8,["modelValue"])]),s("div",yo,[Vt((p(),x(Le,{data:Dt.value,onSelectionChange:Ot,stripe:"",style:{width:"100%"}},{default:l(()=>[t(w,{type:"selection",width:"55"}),t(w,{prop:"id",label:"ID",width:"80"}),t(w,{prop:"name",label:"题库名称","min-width":"200"},{default:l(a=>[t(mt,{type:"primary",onClick:T=>dt(a.row)},{default:l(()=>[n(d(a.row.name),1)]),_:2},1032,["onClick"])]),_:1}),t(w,{prop:"description",label:"描述","min-width":"300","show-overflow-tooltip":""}),t(w,{prop:"creatorId",label:"创建者ID",width:"100"}),t(w,{prop:"createTime",label:"创建时间",width:"180"},{default:l(a=>[n(d(c(Ke)(a.row.createTime)),1)]),_:1}),t(w,{label:"操作",width:"200",fixed:"right"},{default:l(a=>[t(m,{type:"text",size:"small",onClick:T=>rt(a.row)},{default:l(()=>[...e[100]||(e[100]=[n(" 编辑 ",-1)])]),_:1},8,["onClick"]),t(m,{type:"text",size:"small",onClick:T=>dt(a.row)},{default:l(()=>[...e[101]||(e[101]=[n(" 详情 ",-1)])]),_:1},8,["onClick"]),t(m,{type:"text",size:"small",style:{color:"#f56c6c"},onClick:T=>Ht(a.row)},{default:l(()=>[...e[102]||(e[102]=[n(" 删除 ",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[yt,c(C).loading]]),c(C).questionBanks.length>0?(p(),y("div",_o,[t(Cl,{"current-page":Ae.value,"onUpdate:currentPage":e[15]||(e[15]=a=>Ae.value=a),"page-size":Se.value,"onUpdate:pageSize":e[16]||(e[16]=a=>Se.value=a),"page-sizes":[10,20,50,100],total:c(C).pagination.totalElements,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:Pt,onCurrentChange:Nt},null,8,["current-page","page-size","total"])])):V("",!0)])]),_:1}),t(ve,{label:"成绩统计",name:"scores"},{default:l(()=>[s("div",bo,[e[104]||(e[104]=s("h2",null,"成绩统计",-1)),s("div",wo,[t(m,{onClick:vl},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ie))]),_:1}),e[103]||(e[103]=n(" 刷新 ",-1))]),_:1})])]),s("div",ko,[s("div",Co,[t(Qa,{"filter-params":Bt.value},null,8,["filter-params"])]),s("div",Vo,[t(xl,{shadow:"never",class:"history-card"},{header:l(()=>[s("div",xo,[e[106]||(e[106]=s("span",null,"最近答题记录（最多显示10条）",-1)),t(m,{type:"text",onClick:ct},{default:l(()=>[e[105]||(e[105]=n(" 查看更多 ",-1)),t(i,null,{default:l(()=>[t(c(xt))]),_:1})]),_:1})])]),default:l(()=>[Vt((p(),x(Le,{data:Ne.value,stripe:"",style:{width:"100%"}},{default:l(()=>[t(w,{prop:"id",label:"记录ID",width:"100"}),t(w,{label:"题库/试卷","min-width":"200"},{default:l(({row:a})=>[s("div",ho,[s("div",Io,d(a.bankName||"未知题库"),1),s("div",To,d(a.paperName||"未知试卷"),1)])]),_:1}),t(w,{label:"成绩",width:"120",align:"center"},{default:l(({row:a})=>[s("div",$o,[s("div",{class:Nl(["score-value",_l(a.totalScore,a.maxScore)])},d(a.totalScore)+"/"+d(a.maxScore),3),s("div",Ao,d(c(Yl)(a.totalScore,a.maxScore)),1)])]),_:1}),t(w,{label:"答题情况",width:"120",align:"center"},{default:l(({row:a})=>[s("div",So,[s("div",Bo,d(a.answeredCount)+"/"+d(a.totalCount),1),t(Vl,{percentage:a.answeredCount/a.totalCount*100,"show-text":!1,"stroke-width":6},null,8,["percentage"])])]),_:1}),t(w,{label:"答题时间",width:"180"},{default:l(({row:a})=>[s("div",Uo,[t(i,null,{default:l(()=>[t(c(wt))]),_:1}),n(" "+d(c(Ke)(a.createTime)),1)])]),_:1}),t(w,{label:"状态",width:"100",align:"center"},{default:l(({row:a})=>[t(ft,{type:bl(a.status)},{default:l(()=>[n(d(wl(a.status)),1)]),_:2},1032,["type"])]),_:1}),t(w,{label:"操作",width:"180",fixed:"right"},{default:l(({row:a})=>[t(m,{type:"primary",size:"small",onClick:T=>gl(a.id)},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Ct))]),_:1}),e[107]||(e[107]=n(" 查看详情 ",-1))]),_:1},8,["onClick"]),t(m,{type:"danger",size:"small",onClick:T=>yl(a.id)},{default:l(()=>[t(i,null,{default:l(()=>[t(c(ye))]),_:1}),e[108]||(e[108]=n(" 删除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[yt,Pe.value]]),Ne.value.length===0?(p(),y("div",qo,[t(xe,{description:"暂无答题记录"})])):(p(),y("div",Do,[t(m,{type:"text",onClick:ct},{default:l(()=>[e[109]||(e[109]=n(" 查看全部记录 ",-1)),t(i,null,{default:l(()=>[t(c(xt))]),_:1})]),_:1})]))]),_:1})])])]),_:1})]),_:1},8,["modelValue"])])]),t(W,{modelValue:B.value,"onUpdate:modelValue":e[24]||(e[24]=a=>B.value=a),title:"创建试卷",width:"600px"},{footer:l(()=>[t(m,{onClick:e[23]||(e[23]=a=>B.value=!1)},{default:l(()=>[...e[112]||(e[112]=[n("取消",-1)])]),_:1}),t(m,{type:"primary",onClick:rl,loading:se.value},{default:l(()=>[...e[113]||(e[113]=[n("创建",-1)])]),_:1},8,["loading"])]),default:l(()=>[t(ge,{model:q,rules:st,ref_key:"paperFormRef",ref:Ze,"label-width":"80px"},{default:l(()=>[t(v,{label:"所属题库",prop:"bankId"},{default:l(()=>[t(Y,{modelValue:q.bankId,"onUpdate:modelValue":e[18]||(e[18]=a=>q.bankId=a),placeholder:"请选择题库",style:{width:"100%"}},{default:l(()=>[(p(!0),y(P,null,j(c(C).questionBanks,a=>(p(),x(A,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s("div",Lo,[t(m,{type:"text",onClick:e[19]||(e[19]=a=>z.value=!0)},{default:l(()=>[...e[110]||(e[110]=[n("+ 创建新题库",-1)])]),_:1})])]),_:1}),t(v,{label:"试卷标题",prop:"title"},{default:l(()=>[t(k,{modelValue:q.title,"onUpdate:modelValue":e[20]||(e[20]=a=>q.title=a),placeholder:"请输入试卷标题"},null,8,["modelValue"])]),_:1}),t(v,{label:"试卷描述",prop:"description"},{default:l(()=>[t(k,{modelValue:q.description,"onUpdate:modelValue":e[21]||(e[21]=a=>q.description=a),type:"textarea",rows:3,placeholder:"请输入试卷描述（可选）"},null,8,["modelValue"])]),_:1}),t(v,{label:"时间限制",prop:"timeLimit"},{default:l(()=>[t(he,{modelValue:q.timeLimit,"onUpdate:modelValue":e[22]||(e[22]=a=>q.timeLimit=a),min:1,max:300,"controls-position":"right"},null,8,["modelValue"]),e[111]||(e[111]=s("span",{style:{"margin-left":"8px"}},"分钟",-1))]),_:1}),s("div",Eo,[t(gt,{title:"提示",description:"试卷的总分和题目数量将根据后续添加的题目自动计算",type:"info",closable:!1,"show-icon":""})])]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),t(W,{modelValue:g.value,"onUpdate:modelValue":e[30]||(e[30]=a=>g.value=a),title:"编辑试卷",width:"600px"},{footer:l(()=>[t(m,{onClick:e[29]||(e[29]=a=>g.value=!1)},{default:l(()=>[...e[115]||(e[115]=[n("取消",-1)])]),_:1}),t(m,{type:"primary",onClick:fl,loading:Q.value},{default:l(()=>[...e[116]||(e[116]=[n("更新",-1)])]),_:1},8,["loading"])]),default:l(()=>[t(ge,{model:$,rules:st,ref_key:"editPaperFormRef",ref:et,"label-width":"80px"},{default:l(()=>[t(v,{label:"所属题库",prop:"bankId"},{default:l(()=>[t(Y,{modelValue:$.bankId,"onUpdate:modelValue":e[25]||(e[25]=a=>$.bankId=a),placeholder:"请选择题库",style:{width:"100%"}},{default:l(()=>[(p(!0),y(P,null,j(c(C).questionBanks,a=>(p(),x(A,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"试卷标题",prop:"title"},{default:l(()=>[t(k,{modelValue:$.title,"onUpdate:modelValue":e[26]||(e[26]=a=>$.title=a),placeholder:"请输入试卷标题"},null,8,["modelValue"])]),_:1}),t(v,{label:"试卷描述",prop:"description"},{default:l(()=>[t(k,{modelValue:$.description,"onUpdate:modelValue":e[27]||(e[27]=a=>$.description=a),type:"textarea",rows:3,placeholder:"请输入试卷描述（可选）"},null,8,["modelValue"])]),_:1}),t(v,{label:"时间限制",prop:"timeLimit"},{default:l(()=>[t(he,{modelValue:$.timeLimit,"onUpdate:modelValue":e[28]||(e[28]=a=>$.timeLimit=a),min:1,max:300,"controls-position":"right"},null,8,["modelValue"]),e[114]||(e[114]=s("span",{style:{"margin-left":"8px"}},"分钟",-1))]),_:1}),s("div",Fo,[t(gt,{title:"说明",description:"总分和题目数量由系统根据试卷中的题目自动计算，无需手动设置",type:"info",closable:!1,"show-icon":""})]),$.id?(p(),y("div",Qo,[t(Je,{column:2,size:"small",border:""},{default:l(()=>[t(E,{label:"当前题目数量"},{default:l(()=>[n(d($.questionCount||0)+" 题",1)]),_:1}),t(E,{label:"当前总分"},{default:l(()=>[n(d($.totalScore||0)+" 分",1)]),_:1})]),_:1})])):V("",!0)]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),t(W,{modelValue:U.value,"onUpdate:modelValue":e[34]||(e[34]=a=>U.value=a),title:"导入试卷",width:"500px"},{footer:l(()=>[t(m,{onClick:e[33]||(e[33]=a=>U.value=!1)},{default:l(()=>[...e[119]||(e[119]=[n("取消",-1)])]),_:1}),t(m,{type:"primary",onClick:dl,loading:S.value},{default:l(()=>[...e[120]||(e[120]=[n("导入",-1)])]),_:1},8,["loading"])]),default:l(()=>[t(vt,{modelValue:pe.value,"onUpdate:modelValue":e[32]||(e[32]=a=>pe.value=a)},{default:l(()=>[t(ve,{label:"JSON导入",name:"json"},{default:l(()=>[t(k,{modelValue:Z.value,"onUpdate:modelValue":e[31]||(e[31]=a=>Z.value=a),type:"textarea",rows:10,placeholder:"请粘贴试卷JSON数据..."},null,8,["modelValue"])]),_:1}),t(ve,{label:"Excel导入",name:"excel"},{default:l(()=>[t(hl,{class:"upload-demo",drag:"","auto-upload":!1,"on-change":pl,accept:".xlsx,.xls"},{tip:l(()=>[...e[117]||(e[117]=[s("div",{class:"el-upload__tip"}," 只能上传 xlsx/xls 文件 ",-1)])]),default:l(()=>[t(i,{class:"el-icon--upload"},{default:l(()=>[t(c(Hl))]),_:1}),e[118]||(e[118]=s("div",{class:"el-upload__text"},[n(" 将Excel文件拖到此处，或"),s("em",null,"点击上传")],-1))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),t(W,{modelValue:z.value,"onUpdate:modelValue":e[38]||(e[38]=a=>z.value=a),title:"创建题库",width:"500px"},{footer:l(()=>[t(m,{onClick:e[37]||(e[37]=a=>z.value=!1)},{default:l(()=>[...e[121]||(e[121]=[n("取消",-1)])]),_:1}),t(m,{type:"primary",onClick:Et,loading:oe.value},{default:l(()=>[...e[122]||(e[122]=[n("创建",-1)])]),_:1},8,["loading"])]),default:l(()=>[t(ge,{model:re,rules:at,ref_key:"bankFormRef",ref:tt,"label-width":"80px"},{default:l(()=>[t(v,{label:"题库名称",prop:"name"},{default:l(()=>[t(k,{modelValue:re.name,"onUpdate:modelValue":e[35]||(e[35]=a=>re.name=a),placeholder:"请输入题库名称"},null,8,["modelValue"])]),_:1}),t(v,{label:"题库描述",prop:"description"},{default:l(()=>[t(k,{modelValue:re.description,"onUpdate:modelValue":e[36]||(e[36]=a=>re.description=a),type:"textarea",rows:3,placeholder:"请输入题库描述（可选）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),t(W,{modelValue:_e.value,"onUpdate:modelValue":e[42]||(e[42]=a=>_e.value=a),title:"编辑题库",width:"500px"},{footer:l(()=>[t(m,{onClick:e[41]||(e[41]=a=>_e.value=!1)},{default:l(()=>[...e[123]||(e[123]=[n("取消",-1)])]),_:1}),t(m,{type:"primary",onClick:Mt,loading:Oe.value},{default:l(()=>[...e[124]||(e[124]=[n(" 更新 ",-1)])]),_:1},8,["loading"])]),default:l(()=>[t(ge,{model:de,rules:at,ref_key:"editBankFormRef",ref:lt,"label-width":"100px"},{default:l(()=>[t(v,{label:"题库名称",prop:"name"},{default:l(()=>[t(k,{modelValue:de.name,"onUpdate:modelValue":e[39]||(e[39]=a=>de.name=a),placeholder:"请输入题库名称",maxlength:"100","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(v,{label:"题库描述",prop:"description"},{default:l(()=>[t(k,{modelValue:de.description,"onUpdate:modelValue":e[40]||(e[40]=a=>de.description=a),type:"textarea",rows:4,placeholder:"请输入题库描述（可选）",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),t(W,{modelValue:be.value,"onUpdate:modelValue":e[45]||(e[45]=a=>be.value=a),title:"题库详情",width:"800px"},{footer:l(()=>[t(m,{onClick:e[43]||(e[43]=a=>be.value=!1)},{default:l(()=>[...e[125]||(e[125]=[n("关闭",-1)])]),_:1}),t(m,{type:"primary",onClick:e[44]||(e[44]=a=>rt(ee.value))},{default:l(()=>[...e[126]||(e[126]=[n("编辑题库",-1)])]),_:1})]),default:l(()=>[ee.value?(p(),y("div",Oo,[t(Je,{column:2,border:""},{default:l(()=>[t(E,{label:"题库ID"},{default:l(()=>[n(d(ee.value.id),1)]),_:1}),t(E,{label:"题库名称"},{default:l(()=>[n(d(ee.value.name),1)]),_:1}),t(E,{label:"创建者ID"},{default:l(()=>[n(d(ee.value.creatorId),1)]),_:1}),t(E,{label:"创建时间"},{default:l(()=>[n(d(c(Ke)(ee.value.createTime)),1)]),_:1}),t(E,{label:"题库描述",span:2},{default:l(()=>[n(d(ee.value.description||"暂无描述"),1)]),_:1})]),_:1})])):V("",!0)]),_:1},8,["modelValue"]),t(W,{modelValue:me.value,"onUpdate:modelValue":e[62]||(e[62]=a=>me.value=a),title:"添加题目",width:"800px"},{footer:l(()=>[t(m,{onClick:e[61]||(e[61]=a=>me.value=!1)},{default:l(()=>[...e[128]||(e[128]=[n("取消",-1)])]),_:1}),t(m,{type:"primary",onClick:Zt,loading:He.value},{default:l(()=>[...e[129]||(e[129]=[n("创建",-1)])]),_:1},8,["loading"])]),default:l(()=>[t(ge,{model:r,rules:qt(),ref_key:"questionFormRef",ref:qe,"label-width":"100px"},{default:l(()=>[t(v,{label:"所属试卷",prop:"paperId"},{default:l(()=>[t(Y,{modelValue:r.paperId,"onUpdate:modelValue":e[46]||(e[46]=a=>r.paperId=a),placeholder:"请选择试卷",style:{width:"100%"}},{default:l(()=>[(p(!0),y(P,null,j(N.value,a=>(p(),x(A,{key:a.id,label:a.title,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"题目类型",prop:"questionTypeId"},{default:l(()=>[t(Y,{modelValue:r.questionTypeId,"onUpdate:modelValue":e[47]||(e[47]=a=>r.questionTypeId=a),placeholder:"请选择题目类型",style:{width:"100%"},onChange:Kt},{default:l(()=>[(p(!0),y(P,null,j(te.value,a=>(p(),x(A,{key:a.id,label:a.typeName,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"题目内容",prop:"details.questionText"},{default:l(()=>[t(k,{modelValue:r.details.questionText,"onUpdate:modelValue":e[48]||(e[48]=a=>r.details.questionText=a),type:"textarea",rows:4,placeholder:"请输入题目内容",maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),t(v,{label:"分数",prop:"details.score"},{default:l(()=>[t(he,{modelValue:r.details.score,"onUpdate:modelValue":e[49]||(e[49]=a=>r.details.score=a),min:1,max:100,"controls-position":"right"},null,8,["modelValue"]),e[127]||(e[127]=s("span",{style:{"margin-left":"8px"}},"分",-1))]),_:1}),t(v,{label:"排序",prop:"sortOrder"},{default:l(()=>[t(he,{modelValue:r.sortOrder,"onUpdate:modelValue":e[50]||(e[50]=a=>r.sortOrder=a),min:1,max:999,"controls-position":"right"},null,8,["modelValue"])]),_:1}),O.value==="MULTIPLE_CHOICE"?(p(),y(P,{key:0},[t(v,{label:"选项A",prop:"details.optionA"},{default:l(()=>[t(k,{modelValue:r.details.optionA,"onUpdate:modelValue":e[51]||(e[51]=a=>r.details.optionA=a),placeholder:"请输入选项A"},null,8,["modelValue"])]),_:1}),t(v,{label:"选项B",prop:"details.optionB"},{default:l(()=>[t(k,{modelValue:r.details.optionB,"onUpdate:modelValue":e[52]||(e[52]=a=>r.details.optionB=a),placeholder:"请输入选项B"},null,8,["modelValue"])]),_:1}),t(v,{label:"选项C",prop:"details.optionC"},{default:l(()=>[t(k,{modelValue:r.details.optionC,"onUpdate:modelValue":e[53]||(e[53]=a=>r.details.optionC=a),placeholder:"请输入选项C"},null,8,["modelValue"])]),_:1}),t(v,{label:"选项D",prop:"details.optionD"},{default:l(()=>[t(k,{modelValue:r.details.optionD,"onUpdate:modelValue":e[54]||(e[54]=a=>r.details.optionD=a),placeholder:"请输入选项D"},null,8,["modelValue"])]),_:1}),t(v,{label:"选项E"},{default:l(()=>[t(k,{modelValue:r.details.optionE,"onUpdate:modelValue":e[55]||(e[55]=a=>r.details.optionE=a),placeholder:"请输入选项E（可选）"},null,8,["modelValue"])]),_:1}),t(v,{label:"选项F"},{default:l(()=>[t(k,{modelValue:r.details.optionF,"onUpdate:modelValue":e[56]||(e[56]=a=>r.details.optionF=a),placeholder:"请输入选项F（可选）"},null,8,["modelValue"])]),_:1}),t(v,{label:"正确答案",prop:"details.correctAnswer"},{default:l(()=>[t(Y,{modelValue:r.details.correctAnswer,"onUpdate:modelValue":e[57]||(e[57]=a=>r.details.correctAnswer=a),placeholder:"请选择正确答案"},{default:l(()=>[t(A,{label:"A",value:"A"}),t(A,{label:"B",value:"B"}),t(A,{label:"C",value:"C"}),t(A,{label:"D",value:"D"}),r.details.optionE?(p(),x(A,{key:0,label:"E",value:"E"})):V("",!0),r.details.optionF?(p(),x(A,{key:1,label:"F",value:"F"})):V("",!0)]),_:1},8,["modelValue"])]),_:1})],64)):V("",!0),O.value==="ANALYSIS"?(p(),x(v,{key:1,label:"正确答案",prop:"details.correctAnswer"},{default:l(()=>[t(k,{modelValue:r.details.correctAnswer,"onUpdate:modelValue":e[58]||(e[58]=a=>r.details.correctAnswer=a),type:"textarea",rows:3,placeholder:"请输入正确答案"},null,8,["modelValue"])]),_:1})):V("",!0),O.value==="ESSAY"?(p(),x(v,{key:2,label:"参考答案",prop:"details.referenceAnswer"},{default:l(()=>[t(k,{modelValue:r.details.referenceAnswer,"onUpdate:modelValue":e[59]||(e[59]=a=>r.details.referenceAnswer=a),type:"textarea",rows:4,placeholder:"请输入参考答案"},null,8,["modelValue"])]),_:1})):V("",!0),t(v,{label:"解释说明"},{default:l(()=>[t(k,{modelValue:r.details.explanation,"onUpdate:modelValue":e[60]||(e[60]=a=>r.details.explanation=a),type:"textarea",rows:3,placeholder:"请输入解释说明（可选）"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),t(W,{modelValue:we.value,"onUpdate:modelValue":e[66]||(e[66]=a=>we.value=a),title:"批量添加题目",width:"1000px"},{footer:l(()=>[t(m,{onClick:e[65]||(e[65]=a=>we.value=!1)},{default:l(()=>[...e[132]||(e[132]=[n("取消",-1)])]),_:1}),t(m,{type:"primary",onClick:nl,loading:ze.value},{default:l(()=>[...e[133]||(e[133]=[n("批量创建",-1)])]),_:1},8,["loading"])]),default:l(()=>[s("div",Po,[t(ge,{inline:!0},{default:l(()=>[t(v,{label:"所属试卷"},{default:l(()=>[t(Y,{modelValue:H.paperId,"onUpdate:modelValue":e[63]||(e[63]=a=>H.paperId=a),placeholder:"请选择试卷",style:{width:"200px"}},{default:l(()=>[(p(!0),y(P,null,j(N.value,a=>(p(),x(A,{key:a.id,label:a.title,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"题目类型"},{default:l(()=>[t(Y,{modelValue:H.questionTypeId,"onUpdate:modelValue":e[64]||(e[64]=a=>H.questionTypeId=a),placeholder:"请选择题目类型",style:{width:"150px"},onChange:al},{default:l(()=>[(p(!0),y(P,null,j(te.value,a=>(p(),x(A,{key:a.id,label:a.typeName,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(v,null,{default:l(()=>[t(m,{type:"primary",onClick:ol},{default:l(()=>[t(i,null,{default:l(()=>[t(c(Fe))]),_:1}),e[130]||(e[130]=n(" 添加题目 ",-1))]),_:1})]),_:1})]),_:1})]),s("div",No,[R.value.length===0?(p(),x(xe,{key:0,description:"点击上方按钮添加题目"})):(p(),y("div",Ho,[(p(!0),y(P,null,j(R.value,(a,T)=>(p(),y("div",{key:T,class:"batch-question-item"},[s("div",zo,[s("span",Mo,"题目 "+d(T+1),1),t(m,{type:"text",onClick:I=>sl(T)},{default:l(()=>[t(i,null,{default:l(()=>[t(c(zl))]),_:1})]),_:1},8,["onClick"])]),t(v,{label:"题目内容",style:{"margin-bottom":"12px"}},{default:l(()=>[t(k,{modelValue:a.details.questionText,"onUpdate:modelValue":I=>a.details.questionText=I,placeholder:"请输入题目内容",type:"textarea",rows:2},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(v,{label:"分数",style:{"margin-bottom":"12px"}},{default:l(()=>[t(he,{modelValue:a.details.score,"onUpdate:modelValue":I=>a.details.score=I,min:1,max:100,"controls-position":"right",style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),e[131]||(e[131]=s("span",{style:{"margin-left":"8px"}},"分",-1))]),_:2},1024),M.value==="MULTIPLE_CHOICE"?(p(),y(P,{key:0},[s("div",Ro,[t(v,{label:"选项A"},{default:l(()=>[t(k,{modelValue:a.details.optionA,"onUpdate:modelValue":I=>a.details.optionA=I,placeholder:"请输入选项A"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(v,{label:"选项B"},{default:l(()=>[t(k,{modelValue:a.details.optionB,"onUpdate:modelValue":I=>a.details.optionB=I,placeholder:"请输入选项B"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(v,{label:"选项C"},{default:l(()=>[t(k,{modelValue:a.details.optionC,"onUpdate:modelValue":I=>a.details.optionC=I,placeholder:"请输入选项C"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(v,{label:"选项D"},{default:l(()=>[t(k,{modelValue:a.details.optionD,"onUpdate:modelValue":I=>a.details.optionD=I,placeholder:"请输入选项D"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),t(v,{label:"正确答案"},{default:l(()=>[t(Y,{modelValue:a.details.correctAnswer,"onUpdate:modelValue":I=>a.details.correctAnswer=I,placeholder:"请选择正确答案"},{default:l(()=>[t(A,{label:"A",value:"A"}),t(A,{label:"B",value:"B"}),t(A,{label:"C",value:"C"}),t(A,{label:"D",value:"D"})]),_:1},8,["modelValue","onUpdate:modelValue"])]),_:2},1024)],64)):V("",!0),M.value==="ANALYSIS"?(p(),x(v,{key:1,label:"正确答案"},{default:l(()=>[t(k,{modelValue:a.details.correctAnswer,"onUpdate:modelValue":I=>a.details.correctAnswer=I,type:"textarea",rows:2,placeholder:"请输入正确答案"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):V("",!0),M.value==="ESSAY"?(p(),x(v,{key:2,label:"参考答案"},{default:l(()=>[t(k,{modelValue:a.details.referenceAnswer,"onUpdate:modelValue":I=>a.details.referenceAnswer=I,type:"textarea",rows:3,placeholder:"请输入参考答案"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):V("",!0),t(v,{label:"解释说明"},{default:l(()=>[t(k,{modelValue:a.details.explanation,"onUpdate:modelValue":I=>a.details.explanation=I,type:"textarea",rows:2,placeholder:"请输入解释说明（可选）"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]))),128))]))])]),_:1},8,["modelValue"]),t(W,{modelValue:ke.value,"onUpdate:modelValue":e[69]||(e[69]=a=>ke.value=a),title:"题目详情",width:"800px"},{footer:l(()=>[t(m,{onClick:e[67]||(e[67]=a=>ke.value=!1)},{default:l(()=>[...e[145]||(e[145]=[n("关闭",-1)])]),_:1}),t(m,{type:"primary",onClick:e[68]||(e[68]=a=>pt(b.value))},{default:l(()=>[...e[146]||(e[146]=[n("编辑题目",-1)])]),_:1})]),default:l(()=>[b.value?(p(),y("div",Yo,[t(Je,{column:2,border:""},{default:l(()=>[t(E,{label:"题目ID"},{default:l(()=>[n(d(b.value.id),1)]),_:1}),t(E,{label:"题目类型"},{default:l(()=>[n(d(b.value.questionTypeName),1)]),_:1}),t(E,{label:"所属试卷"},{default:l(()=>[n(d(Xt(b.value.paperId)),1)]),_:1}),t(E,{label:"分数"},{default:l(()=>[n(d(b.value.score)+" 分",1)]),_:1}),t(E,{label:"排序"},{default:l(()=>[n(d(b.value.sortOrder),1)]),_:1}),t(E,{label:"题目内容",span:2},{default:l(()=>[n(d(b.value.questionText),1)]),_:1})]),_:1}),s("div",jo,[e[144]||(e[144]=s("h4",null,"题目详细信息",-1)),b.value.questionTypeCode==="MULTIPLE_CHOICE"?(p(),y("div",Jo,[s("div",Ko,[b.value.details.optionA?(p(),y("div",Go,[e[134]||(e[134]=s("strong",null,"A:",-1)),n(" "+d(b.value.details.optionA),1)])):V("",!0),b.value.details.optionB?(p(),y("div",Wo,[e[135]||(e[135]=s("strong",null,"B:",-1)),n(" "+d(b.value.details.optionB),1)])):V("",!0),b.value.details.optionC?(p(),y("div",Xo,[e[136]||(e[136]=s("strong",null,"C:",-1)),n(" "+d(b.value.details.optionC),1)])):V("",!0),b.value.details.optionD?(p(),y("div",Zo,[e[137]||(e[137]=s("strong",null,"D:",-1)),n(" "+d(b.value.details.optionD),1)])):V("",!0),b.value.details.optionE?(p(),y("div",es,[e[138]||(e[138]=s("strong",null,"E:",-1)),n(" "+d(b.value.details.optionE),1)])):V("",!0),b.value.details.optionF?(p(),y("div",ts,[e[139]||(e[139]=s("strong",null,"F:",-1)),n(" "+d(b.value.details.optionF),1)])):V("",!0)]),s("div",ls,[e[140]||(e[140]=s("strong",null,"正确答案:",-1)),n(" "+d(b.value.details.correctAnswer),1)])])):b.value.questionTypeCode==="ANALYSIS"?(p(),y("div",as,[s("div",os,[e[141]||(e[141]=s("strong",null,"正确答案:",-1)),n(" "+d(b.value.details.correctAnswer),1)])])):b.value.questionTypeCode==="ESSAY"?(p(),y("div",ss,[s("div",ns,[e[142]||(e[142]=s("strong",null,"参考答案:",-1)),n(" "+d(b.value.details.referenceAnswer),1)])])):V("",!0),b.value.details.explanation?(p(),y("div",is,[e[143]||(e[143]=s("strong",null,"解释说明:",-1)),n(" "+d(b.value.details.explanation),1)])):V("",!0)])])):V("",!0)]),_:1},8,["modelValue"])])}}},gs=St(rs,[["__scopeId","data-v-30713271"]]);export{gs as default};
